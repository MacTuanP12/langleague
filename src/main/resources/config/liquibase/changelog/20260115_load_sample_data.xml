<?xml version="1.0" encoding="utf-8"?>
<databaseChangeLog
    xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
                        http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-latest.xsd">

    <!--
        Load sample data for development/testing.
        This changeset runs AFTER all entity tables and columns are created.
        Uses 'faker' context so it only runs in dev profile.
    -->
    <changeSet id="20260115-load-sample-data" author="langleague" context="faker">
        <comment>Load sample data for LangLeague - English learning platform</comment>

        <!-- Load Progress data with all UC49 columns -->
        <loadData
                  file="config/liquibase/fake-data/progress.csv"
                  separator=";"
                  tableName="progress"
                  usePreparedStatements="true">
            <column name="id" type="numeric"/>
            <column name="is_completed" type="boolean"/>
            <column name="updated_at" type="date"/>
            <column name="is_bookmarked" type="boolean"/>
            <column name="score" type="numeric"/>
            <column name="last_accessed_at" type="date"/>
            <column name="completion_percentage" type="numeric"/>
            <column name="is_vocabulary_finished" type="boolean"/>
            <column name="is_grammar_finished" type="boolean"/>
            <column name="is_exercise_finished" type="boolean"/>
            <column name="user_profile_id" type="numeric"/>
            <column name="unit_id" type="numeric"/>
        </loadData>
    </changeSet>

</databaseChangeLog>
